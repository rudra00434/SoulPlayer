{% extends 'index.html' %}

{% block content %}
<div class="px-10 pb-32">
    <!-- Artist Banner -->
    <div class="relative w-full h-80 rounded-3xl overflow-hidden mb-14 shadow-2xl flex items-center mt-2 group">
        <div class="absolute inset-0 bg-gradient-to-r from-[#1e293b] via-[#0f172a] to-[#020617]"></div>

        <!-- Background decorative blur with artist image if available -->
        {% if artist.image %}
        <div class="absolute inset-0 opacity-20 bg-cover bg-center filter blur-xl"
            style="background-image: url('{{ artist.image.url }}');"></div>
        {% else %}
        <div
            class="absolute -top-20 -right-20 w-80 h-80 bg-[#3be2c8] rounded-full mix-blend-screen filter blur-[100px] opacity-20">
        </div>
        <div
            class="absolute bottom-0 right-1/4 w-60 h-60 bg-blue-500 rounded-full mix-blend-screen filter blur-[80px] opacity-20 relative animate-pulse">
        </div>
        {% endif %}

        <div class="relative z-10 p-14 max-w-2xl flex items-center gap-10">
            <!-- Artist Image -->
            <div
                class="w-48 h-48 rounded-full shadow-[0_0_40px_rgba(59,226,200,0.4)] relative flex-shrink-0 border-4 border-[#3be2c8]/50 overflow-hidden">
                {% if artist.image %}
                <img src="{{ artist.image.url }}" class="w-full h-full object-cover">
                {% else %}
                <div
                    class="w-full h-full bg-gradient-to-tr from-[#3be2c8] to-blue-600 flex items-center justify-center">
                    <i class="fas fa-user text-6xl text-white"></i>
                </div>
                {% endif %}
            </div>

            <!-- Artist Info -->
            <div>
                <div class="text-sm font-bold uppercase tracking-widest text-[#3be2c8] mb-2 flex items-center gap-2">
                    <i class="fas fa-check-circle"></i> Verified Artist
                </div>
                <h1 class="text-6xl md:text-7xl font-extrabold tracking-tight drop-shadow-lg text-white mb-2">
                    {{ artist.name }}
                </h1>
                <p class="text-xl text-gray-300 font-medium tracking-wide mb-6">
                    {{ artist.music_band }}
                </p>
                <div class="flex gap-4">
                    <button
                        class="bg-[#3be2c8] text-[#0b0f19] font-bold tracking-widest text-xs px-8 py-3 rounded-full shadow-[0_4px_20px_rgba(59,226,200,0.4)] hover:shadow-[0_6px_25px_rgba(59,226,200,0.6)] hover:scale-105 transition-all duration-300">
                        FOLLOW
                    </button>
                    <button
                        class="border border-white/30 text-white font-bold tracking-widest text-xs px-8 py-3 rounded-full hover:bg-white/10 transition-all duration-300 backdrop-blur-sm">
                        <i class="fas fa-ellipsis-h text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- About Section -->
    {% if artist.bio %}
    <div class="mb-14 bg-white/5 p-8 rounded-2xl border border-white/5 shadow-lg backdrop-blur-sm">
        <h2 class="text-2xl font-bold tracking-wide mb-4 flex items-center gap-3">
            <i class="fas fa-info-circle text-[#3be2c8]"></i> About
        </h2>
        <p class="text-gray-300 leading-relaxed font-light text-lg">
            {{ artist.bio }}
        </p>
    </div>
    {% endif %}

    <!-- Songs Section -->
    <div class="mb-6 flex items-end justify-between">
        <h2 class="text-2xl font-bold tracking-wide flex items-center gap-3">
            <i class="fas fa-music text-[#3be2c8]"></i> Popular Tracks by {{ artist.name }}
        </h2>
    </div>

    {% if songs %}
    <div class="bg-white/5 rounded-2xl border border-white/5 shadow-lg overflow-hidden backdrop-blur-sm">
        <table class="w-full text-left border-collapse">
            <thead>
                <tr class="text-gray-400 text-xs tracking-wider uppercase border-b border-white/10 bg-white/5">
                    <th class="p-4 font-semibold w-12 text-center">#</th>
                    <th class="p-4 font-semibold">Title</th>
                    <th class="p-4 font-semibold text-right">Duration</th>
                </tr>
            </thead>
            <tbody>
                {% for song in songs %}
                <tr class="group hover:bg-white/10 transition-colors border-b border-white/5 last:border-0 cursor-pointer"
                    onclick="playSong('{% if song.audio_link %}{{ song.audio_link }}{% elif song.audio_file %}{{ song.audio_file.url }}{% endif %}', '{{ song.title|escapejs }}', '{{ song.artist|escapejs }}', '{% if song.image %}{{ song.image.url }}{% endif %}')">
                    <td class="p-4 text-center text-gray-500 font-medium group-hover:text-white relative">
                        <span class="group-hover:opacity-0 transition-opacity">{{ forloop.counter }}</span>
                        <div
                            class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-play text-[#3be2c8]"></i>
                        </div>
                    </td>
                    <td class="p-4 flex items-center gap-4">
                        {% if song.image %}
                        <img src="{{ song.image.url }}" class="w-12 h-12 rounded-lg object-cover shadow-md">
                        {% else %}
                        <div class="w-12 h-12 bg-gray-800 rounded-lg flex items-center justify-center shadow-md">
                            <i class="fas fa-music text-gray-500"></i>
                        </div>
                        {% endif %}
                        <div class="flex flex-col">
                            <span
                                class="text-white font-semibold text-[15px] group-hover:text-[#3be2c8] transition-colors">
                                {{ song.title }}</span>
                            <span class="text-xs text-gray-400 mt-0.5">{{ song.song_type }}</span>
                        </div>
                    </td>
                    <td class="p-4 text-right text-gray-400 font-medium text-sm">
                        {{ song.duration }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div
        class="flex flex-col items-center justify-center py-20 bg-white/5 rounded-3xl border border-white/5 shadow-inner backdrop-blur-sm">
        <div
            class="w-20 h-20 bg-[#1e293b]/50 rounded-full flex items-center justify-center mb-6 shadow-lg border border-[#1e293b]">
            <i class="fas fa-compact-disc text-3xl text-gray-500 animate-[spin_4s_linear_infinite]"></i>
        </div>
        <h3 class="text-2xl font-bold mb-2 tracking-wide text-white">No tracks available</h3>
        <p class="text-gray-400 text-base font-light">This artist hasn't released any songs yet.</p>
    </div>
    {% endif %}

</div>

<!-- We don't need the style tag to hide parent elements because block override inherently replaces parent block content -->
{% endblock %}